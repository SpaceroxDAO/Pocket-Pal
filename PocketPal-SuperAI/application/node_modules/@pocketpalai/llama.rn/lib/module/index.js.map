{"version":3,"names":["NativeEventEmitter","DeviceEventEmitter","Platform","RNLlama","SchemaGrammarConverter","convertJsonSchemaToGrammar","RNLLAMA_MTMD_DEFAULT_MEDIA_MARKER","EVENT_ON_INIT_CONTEXT_PROGRESS","EVENT_ON_TOKEN","EVENT_ON_NATIVE_LOG","EventEmitter","OS","logListeners","addListener","evt","forEach","listener","level","text","toggleNativeLog","catch","getJsonSchema","responseFormat","type","json_schema","schema","LlamaContext","gpu","reasonNoGPU","constructor","contextId","model","id","loadSession","filepath","path","startsWith","slice","saveSession","options","tokenSize","isLlamaChatSupported","chatTemplates","llamaChat","isJinjaSupported","minja","toolUse","default","getFormattedChat","messages","template","params","mediaPaths","chat","map","msg","Array","isArray","content","part","image_url","url","push","input_audio","audio","Error","format","replace","data","useJinja","jinja","tmpl","jsonSchema","response_format","result","JSON","stringify","undefined","tools","parallel_tool_calls","tool_choice","prompt","has_media","length","media_paths","jinjaResult","completion","callback","nativeParams","emit_partial_completion","formattedResult","chat_template","chatTemplate","chat_format","grammar","grammar_lazy","grammar_triggers","preserved_tokens","additional_stops","stop","llamaChatResult","tokenListener","tokenResult","promise","then","completionResult","remove","err","stopCompletion","tokenize","detokenize","tokens","embedding","bench","pp","tg","pl","nr","modelDesc","modelSize","modelNParams","ppAvg","ppStd","tgAvg","tgStd","parse","applyLoraAdapters","loraList","loraAdapters","l","scaled","removeLoraAdapters","getLoadedLoraAdapters","initMultimodal","use_gpu","useGpu","isMultimodalEnabled","getMultimodalSupport","releaseMultimodal","initVocoder","isVocoderEnabled","getFormattedAudioCompletion","speaker","textToSpeak","getAudioCompletionGuideTokens","decodeAudioTokens","releaseVocoder","release","releaseContext","enabled","addNativeLogListener","splice","indexOf","setContextLimit","limit","contextIdCounter","contextIdRandom","process","env","NODE_ENV","Math","floor","random","modelInfoSkip","loadLlamaModelInfo","modelInfo","poolTypeMap","none","mean","cls","last","rank","initLlama","is_model_asset","isModelAsset","pooling_type","poolingType","lora","lora_list","rest","onProgress","loraPath","removeProgressListener","progress","poolType","modelDetails","androidLib","initContext","use_progress_callback","releaseAllLlama","releaseAllContexts"],"sourceRoot":"../../src","sources":["index.ts"],"mappings":"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","ignoreList":[]}
