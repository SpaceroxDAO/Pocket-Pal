{"version":3,"names":["_reactNative","require","_NativeRNLlama","_interopRequireDefault","_grammar","e","__esModule","default","RNLLAMA_MTMD_DEFAULT_MEDIA_MARKER","exports","EVENT_ON_INIT_CONTEXT_PROGRESS","EVENT_ON_TOKEN","EVENT_ON_NATIVE_LOG","EventEmitter","Platform","OS","NativeEventEmitter","RNLlama","DeviceEventEmitter","logListeners","addListener","evt","forEach","listener","level","text","toggleNativeLog","catch","getJsonSchema","responseFormat","type","json_schema","schema","LlamaContext","gpu","reasonNoGPU","constructor","contextId","model","id","loadSession","filepath","path","startsWith","slice","saveSession","options","tokenSize","isLlamaChatSupported","chatTemplates","llamaChat","isJinjaSupported","minja","toolUse","getFormattedChat","messages","template","params","mediaPaths","chat","map","msg","Array","isArray","content","part","image_url","url","push","input_audio","audio","Error","format","replace","data","useJinja","jinja","tmpl","jsonSchema","response_format","result","JSON","stringify","undefined","tools","parallel_tool_calls","tool_choice","prompt","has_media","length","media_paths","jinjaResult","completion","callback","nativeParams","emit_partial_completion","formattedResult","chat_template","chatTemplate","chat_format","grammar","grammar_lazy","grammar_triggers","preserved_tokens","additional_stops","stop","llamaChatResult","tokenListener","tokenResult","promise","then","completionResult","remove","err","stopCompletion","tokenize","detokenize","tokens","embedding","bench","pp","tg","pl","nr","modelDesc","modelSize","modelNParams","ppAvg","ppStd","tgAvg","tgStd","parse","applyLoraAdapters","loraList","loraAdapters","l","scaled","removeLoraAdapters","getLoadedLoraAdapters","initMultimodal","use_gpu","useGpu","isMultimodalEnabled","getMultimodalSupport","releaseMultimodal","initVocoder","isVocoderEnabled","getFormattedAudioCompletion","speaker","textToSpeak","getAudioCompletionGuideTokens","decodeAudioTokens","releaseVocoder","release","releaseContext","enabled","addNativeLogListener","splice","indexOf","setContextLimit","limit","contextIdCounter","contextIdRandom","process","env","NODE_ENV","Math","floor","random","modelInfoSkip","loadLlamaModelInfo","modelInfo","poolTypeMap","none","mean","cls","last","rank","initLlama","is_model_asset","isModelAsset","pooling_type","poolingType","lora","lora_list","rest","onProgress","loraPath","removeProgressListener","progress","poolType","modelDetails","androidLib","initContext","use_progress_callback","releaseAllLlama","releaseAllContexts"],"sourceRoot":"../../src","sources":["index.ts"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAEA,IAAAC,cAAA,GAAAC,sBAAA,CAAAF,OAAA;AAsBA,IAAAG,QAAA,GAAAH,OAAA;AAA8E,SAAAE,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAyCvE,MAAMG,iCAAiC,GAAAC,OAAA,CAAAD,iCAAA,GAAG,aAAa;AAI9D,MAAME,8BAA8B,GAAG,gCAAgC;AACvE,MAAMC,cAAc,GAAG,kBAAkB;AACzC,MAAMC,mBAAmB,GAAG,sBAAsB;AAElD,IAAIC,YAA2D;AAC/D,IAAIC,qBAAQ,CAACC,EAAE,KAAK,KAAK,EAAE;EACzB;EACAF,YAAY,GAAG,IAAIG,+BAAkB,CAACC,sBAAO,CAAC;AAChD;AACA,IAAIH,qBAAQ,CAACC,EAAE,KAAK,SAAS,EAAE;EAC7BF,YAAY,GAAGK,+BAAkB;AACnC;AAEA,MAAMC,YAA0D,GAAG,EAAE;;AAErE;AACA,IAAIN,YAAY,EAAE;EAChBA,YAAY,CAACO,WAAW,CACtBR,mBAAmB,EAClBS,GAAoC,IAAK;IACxCF,YAAY,CAACG,OAAO,CAAEC,QAAQ,IAAKA,QAAQ,CAACF,GAAG,CAACG,KAAK,EAAEH,GAAG,CAACI,IAAI,CAAC,CAAC;EACnE,CACF,CAAC;EACD;EACAR,sBAAO,EAAES,eAAe,GAAG,KAAK,CAAC,EAAEC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC;AACtD;AA4EA,MAAMC,aAAa,GAAIC,cAAyC,IAAK;EACnE,IAAIA,cAAc,EAAEC,IAAI,KAAK,aAAa,EAAE;IAC1C,OAAOD,cAAc,CAACE,WAAW,EAAEC,MAAM;EAC3C;EACA,IAAIH,cAAc,EAAEC,IAAI,KAAK,aAAa,EAAE;IAC1C,OAAOD,cAAc,CAACG,MAAM,IAAI,CAAC,CAAC;EACpC;EACA,OAAO,IAAI;AACb,CAAC;AAEM,MAAMC,YAAY,CAAC;EAGxBC,GAAG,GAAY,KAAK;EAEpBC,WAAW,GAAW,EAAE;EAIxBC,WAAWA,CAAC;IAAEC,SAAS;IAAEH,GAAG;IAAEC,WAAW;IAAEG;EAA0B,CAAC,EAAE;IACtE,IAAI,CAACC,EAAE,GAAGF,SAAS;IACnB,IAAI,CAACH,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACG,KAAK,GAAGA,KAAK;EACpB;;EAEA;AACF;AACA;EACE,MAAME,WAAWA,CAACC,QAAgB,EAAoC;IACpE,IAAIC,IAAI,GAAGD,QAAQ;IACnB,IAAIC,IAAI,CAACC,UAAU,CAAC,SAAS,CAAC,EAAED,IAAI,GAAGA,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;IACpD,OAAO3B,sBAAO,CAACuB,WAAW,CAAC,IAAI,CAACD,EAAE,EAAEG,IAAI,CAAC;EAC3C;;EAEA;AACF;AACA;EACE,MAAMG,WAAWA,CACfJ,QAAgB,EAChBK,OAA+B,EACd;IACjB,OAAO7B,sBAAO,CAAC4B,WAAW,CAAC,IAAI,CAACN,EAAE,EAAEE,QAAQ,EAAEK,OAAO,EAAEC,SAAS,IAAI,CAAC,CAAC,CAAC;EACzE;EAEAC,oBAAoBA,CAAA,EAAY;IAC9B,OAAO,CAAC,CAAC,IAAI,CAACV,KAAK,CAACW,aAAa,CAACC,SAAS;EAC7C;EAEAC,gBAAgBA,CAAA,EAAY;IAC1B,MAAM;MAAEC;IAAM,CAAC,GAAG,IAAI,CAACd,KAAK,CAACW,aAAa;IAC1C,OAAO,CAAC,CAACG,KAAK,EAAEC,OAAO,IAAI,CAAC,CAACD,KAAK,EAAE7C,OAAO;EAC7C;EAEA,MAAM+C,gBAAgBA,CACpBC,QAAuC,EACvCC,QAAwB,EACxBC,MAMC,EACwD;IACzD,MAAMC,UAAoB,GAAG,EAAE;IAC/B,MAAMC,IAAI,GAAGJ,QAAQ,CAACK,GAAG,CAAEC,GAAG,IAAK;MACjC,IAAIC,KAAK,CAACC,OAAO,CAACF,GAAG,CAACG,OAAO,CAAC,EAAE;QAC9B,MAAMA,OAAO,GAAGH,GAAG,CAACG,OAAO,CAACJ,GAAG,CAAEK,IAAI,IAAK;UACxC;UACA,IAAIA,IAAI,CAACnC,IAAI,KAAK,WAAW,EAAE;YAC7B,IAAIY,IAAI,GAAGuB,IAAI,CAACC,SAAS,EAAEC,GAAG,IAAI,EAAE;YACpC,IAAIzB,IAAI,EAAEC,UAAU,CAAC,SAAS,CAAC,EAAED,IAAI,GAAGA,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;YACrDc,UAAU,CAACU,IAAI,CAAC1B,IAAI,CAAC;YACrB,OAAO;cACLZ,IAAI,EAAE,MAAM;cACZL,IAAI,EAAEjB;YACR,CAAC;UACH,CAAC,MAAM,IAAIyD,IAAI,CAACnC,IAAI,KAAK,aAAa,EAAE;YACtC,MAAM;cAAEuC,WAAW,EAAEC;YAAM,CAAC,GAAGL,IAAI;YACnC,IAAI,CAACK,KAAK,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;YAEtD,MAAM;cAAEC;YAAO,CAAC,GAAGF,KAAK;YACxB,IAAIE,MAAM,IAAI,KAAK,IAAIA,MAAM,IAAI,KAAK,EAAE;cACtC,MAAM,IAAID,KAAK,CAAC,6BAA6BC,MAAM,EAAE,CAAC;YACxD;YACA,IAAIF,KAAK,CAACH,GAAG,EAAE;cACb,MAAMzB,IAAI,GAAG4B,KAAK,CAACH,GAAG,CAACM,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;cAC/Cf,UAAU,CAACU,IAAI,CAAC1B,IAAI,CAAC;YACvB,CAAC,MAAM,IAAI4B,KAAK,CAACI,IAAI,EAAE;cACrBhB,UAAU,CAACU,IAAI,CAACE,KAAK,CAACI,IAAI,CAAC;YAC7B;YACA,OAAO;cACL5C,IAAI,EAAE,MAAM;cACZL,IAAI,EAAEjB;YACR,CAAC;UACH;UACA,OAAOyD,IAAI;QACb,CAAC,CAAC;QAEF,OAAO;UACL,GAAGJ,GAAG;UACNG;QACF,CAAC;MACH;MACA,OAAOH,GAAG;IACZ,CAAC,CAA6B;IAE9B,MAAMc,QAAQ,GAAG,IAAI,CAACxB,gBAAgB,CAAC,CAAC,IAAIM,MAAM,EAAEmB,KAAK;IACzD,IAAIC,IAAI;IACR,IAAIrB,QAAQ,EAAEqB,IAAI,GAAGrB,QAAQ,EAAC;IAC9B,MAAMsB,UAAU,GAAGlD,aAAa,CAAC6B,MAAM,EAAEsB,eAAe,CAAC;IAEzD,MAAMC,MAAM,GAAG,MAAM/D,sBAAO,CAACqC,gBAAgB,CAC3C,IAAI,CAACf,EAAE,EACP0C,IAAI,CAACC,SAAS,CAACvB,IAAI,CAAC,EACpBkB,IAAI,EACJ;MACED,KAAK,EAAED,QAAQ;MACf5C,WAAW,EAAE+C,UAAU,GAAGG,IAAI,CAACC,SAAS,CAACJ,UAAU,CAAC,GAAGK,SAAS;MAChEC,KAAK,EAAE3B,MAAM,EAAE2B,KAAK,GAAGH,IAAI,CAACC,SAAS,CAACzB,MAAM,CAAC2B,KAAK,CAAC,GAAGD,SAAS;MAC/DE,mBAAmB,EAAE5B,MAAM,EAAE4B,mBAAmB,GAC5CJ,IAAI,CAACC,SAAS,CAACzB,MAAM,CAAC4B,mBAAmB,CAAC,GAC1CF,SAAS;MACbG,WAAW,EAAE7B,MAAM,EAAE6B;IACvB,CACF,CAAC;IACD,IAAI,CAACX,QAAQ,EAAE;MACb,OAAO;QACL7C,IAAI,EAAE,YAAY;QAClByD,MAAM,EAAEP,MAAgB;QACxBQ,SAAS,EAAE9B,UAAU,CAAC+B,MAAM,GAAG,CAAC;QAChCC,WAAW,EAAEhC;MACf,CAAC;IACH;IACA,MAAMiC,WAAW,GAAGX,MAAkC;IACtDW,WAAW,CAAC7D,IAAI,GAAG,OAAO;IAC1B6D,WAAW,CAACH,SAAS,GAAG9B,UAAU,CAAC+B,MAAM,GAAG,CAAC;IAC7CE,WAAW,CAACD,WAAW,GAAGhC,UAAU;IACpC,OAAOiC,WAAW;EACpB;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMC,UAAUA,CACdnC,MAAwB,EACxBoC,QAAoC,EACH;IACjC,MAAMC,YAAY,GAAG;MACnB,GAAGrC,MAAM;MACT8B,MAAM,EAAE9B,MAAM,CAAC8B,MAAM,IAAI,EAAE;MAC3BQ,uBAAuB,EAAE,CAAC,CAACF;IAC7B,CAAC;IAED,IAAIpC,MAAM,CAACF,QAAQ,EAAE;MACnB,MAAMyC,eAAe,GAAG,MAAM,IAAI,CAAC1C,gBAAgB,CACjDG,MAAM,CAACF,QAAQ,EACfE,MAAM,CAACwC,aAAa,IAAIxC,MAAM,CAACyC,YAAY,EAC3C;QACEtB,KAAK,EAAEnB,MAAM,CAACmB,KAAK;QACnBQ,KAAK,EAAE3B,MAAM,CAAC2B,KAAK;QACnBC,mBAAmB,EAAE5B,MAAM,CAAC4B,mBAAmB;QAC/CC,WAAW,EAAE7B,MAAM,CAAC6B;MACtB,CACF,CAAC;MACD,IAAIU,eAAe,CAAClE,IAAI,KAAK,OAAO,EAAE;QACpC,MAAM6D,WAAW,GAAGK,eAA2C;QAE/DF,YAAY,CAACP,MAAM,GAAGI,WAAW,CAACJ,MAAM,IAAI,EAAE;QAC9C,IAAI,OAAOI,WAAW,CAACQ,WAAW,KAAK,QAAQ,EAC7CL,YAAY,CAACK,WAAW,GAAGR,WAAW,CAACQ,WAAW;QACpD,IAAIR,WAAW,CAACS,OAAO,EAAEN,YAAY,CAACM,OAAO,GAAGT,WAAW,CAACS,OAAO;QACnE,IAAI,OAAOT,WAAW,CAACU,YAAY,KAAK,SAAS,EAC/CP,YAAY,CAACO,YAAY,GAAGV,WAAW,CAACU,YAAY;QACtD,IAAIV,WAAW,CAACW,gBAAgB,EAC9BR,YAAY,CAACQ,gBAAgB,GAAGX,WAAW,CAACW,gBAAgB;QAC9D,IAAIX,WAAW,CAACY,gBAAgB,EAC9BT,YAAY,CAACS,gBAAgB,GAAGZ,WAAW,CAACY,gBAAgB;QAC9D,IAAIZ,WAAW,CAACa,gBAAgB,EAAE;UAChC,IAAI,CAACV,YAAY,CAACW,IAAI,EAAEX,YAAY,CAACW,IAAI,GAAG,EAAE;UAC9CX,YAAY,CAACW,IAAI,CAACrC,IAAI,CAAC,GAAGuB,WAAW,CAACa,gBAAgB,CAAC;QACzD;QACA,IAAIb,WAAW,CAACH,SAAS,EAAE;UACzBM,YAAY,CAACJ,WAAW,GAAGC,WAAW,CAACD,WAAW;QACpD;MACF,CAAC,MAAM,IAAIM,eAAe,CAAClE,IAAI,KAAK,YAAY,EAAE;QAChD,MAAM4E,eAAe,GAAGV,eAAsC;QAC9DF,YAAY,CAACP,MAAM,GAAGmB,eAAe,CAACnB,MAAM,IAAI,EAAE;QAClD,IAAImB,eAAe,CAAClB,SAAS,EAAE;UAC7BM,YAAY,CAACJ,WAAW,GAAGgB,eAAe,CAAChB,WAAW;QACxD;MACF;IACF,CAAC,MAAM;MACLI,YAAY,CAACP,MAAM,GAAG9B,MAAM,CAAC8B,MAAM,IAAI,EAAE;IAC3C;;IAEA;IACA,IAAI,CAACO,YAAY,CAACJ,WAAW,IAAIjC,MAAM,CAACiC,WAAW,EAAE;MACnDI,YAAY,CAACJ,WAAW,GAAGjC,MAAM,CAACiC,WAAW;IAC/C;IAEA,IAAII,YAAY,CAACf,eAAe,IAAI,CAACe,YAAY,CAACM,OAAO,EAAE;MACzD,MAAMtB,UAAU,GAAGlD,aAAa,CAAC6B,MAAM,CAACsB,eAAe,CAAC;MACxD,IAAID,UAAU,EAAEgB,YAAY,CAAC/D,WAAW,GAAGkD,IAAI,CAACC,SAAS,CAACJ,UAAU,CAAC;IACvE;IAEA,IAAI6B,aAAkB,GACpBd,QAAQ,IACRhF,YAAY,CAACO,WAAW,CAACT,cAAc,EAAGU,GAAqB,IAAK;MAClE,MAAM;QAAEgB,SAAS;QAAEuE;MAAY,CAAC,GAAGvF,GAAG;MACtC,IAAIgB,SAAS,KAAK,IAAI,CAACE,EAAE,EAAE;MAC3BsD,QAAQ,CAACe,WAAW,CAAC;IACvB,CAAC,CAAC;IAEJ,IAAI,CAACd,YAAY,CAACP,MAAM,EAAE,MAAM,IAAIhB,KAAK,CAAC,oBAAoB,CAAC;IAE/D,MAAMsC,OAAO,GAAG5F,sBAAO,CAAC2E,UAAU,CAAC,IAAI,CAACrD,EAAE,EAAEuD,YAAY,CAAC;IACzD,OAAOe,OAAO,CACXC,IAAI,CAAEC,gBAAgB,IAAK;MAC1BJ,aAAa,EAAEK,MAAM,CAAC,CAAC;MACvBL,aAAa,GAAG,IAAI;MACpB,OAAOI,gBAAgB;IACzB,CAAC,CAAC,CACDpF,KAAK,CAAEsF,GAAQ,IAAK;MACnBN,aAAa,EAAEK,MAAM,CAAC,CAAC;MACvBL,aAAa,GAAG,IAAI;MACpB,MAAMM,GAAG;IACX,CAAC,CAAC;EACN;EAEAC,cAAcA,CAAA,EAAkB;IAC9B,OAAOjG,sBAAO,CAACiG,cAAc,CAAC,IAAI,CAAC3E,EAAE,CAAC;EACxC;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE4E,QAAQA,CACN1F,IAAY,EACZ;IACEiE,WAAW,EAAEhC;EAGf,CAAC,GAAG,CAAC,CAAC,EACyB;IAC/B,OAAOzC,sBAAO,CAACkG,QAAQ,CAAC,IAAI,CAAC5E,EAAE,EAAEd,IAAI,EAAEiC,UAAU,CAAC;EACpD;EAEA0D,UAAUA,CAACC,MAAgB,EAAmB;IAC5C,OAAOpG,sBAAO,CAACmG,UAAU,CAAC,IAAI,CAAC7E,EAAE,EAAE8E,MAAM,CAAC;EAC5C;EAEAC,SAASA,CACP7F,IAAY,EACZgC,MAAwB,EACQ;IAChC,OAAOxC,sBAAO,CAACqG,SAAS,CAAC,IAAI,CAAC/E,EAAE,EAAEd,IAAI,EAAEgC,MAAM,IAAI,CAAC,CAAC,CAAC;EACvD;EAEA,MAAM8D,KAAKA,CACTC,EAAU,EACVC,EAAU,EACVC,EAAU,EACVC,EAAU,EACY;IACtB,MAAM3C,MAAM,GAAG,MAAM/D,sBAAO,CAACsG,KAAK,CAAC,IAAI,CAAChF,EAAE,EAAEiF,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,CAAC;IAC3D,MAAM,CAACC,SAAS,EAAEC,SAAS,EAAEC,YAAY,EAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,CAAC,GACpEjD,IAAI,CAACkD,KAAK,CAACnD,MAAM,CAAC;IACpB,OAAO;MACL4C,SAAS;MACTC,SAAS;MACTC,YAAY;MACZC,KAAK;MACLC,KAAK;MACLC,KAAK;MACLC;IACF,CAAC;EACH;EAEA,MAAME,iBAAiBA,CACrBC,QAAkD,EACnC;IACf,IAAIC,YAAsD,GAAG,EAAE;IAC/D,IAAID,QAAQ,EACVC,YAAY,GAAGD,QAAQ,CAACzE,GAAG,CAAE2E,CAAC,KAAM;MAClC7F,IAAI,EAAE6F,CAAC,CAAC7F,IAAI,CAAC+B,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;MACrC+D,MAAM,EAAED,CAAC,CAACC;IACZ,CAAC,CAAC,CAAC;IACL,OAAOvH,sBAAO,CAACmH,iBAAiB,CAAC,IAAI,CAAC7F,EAAE,EAAE+F,YAAY,CAAC;EACzD;EAEA,MAAMG,kBAAkBA,CAAA,EAAkB;IACxC,OAAOxH,sBAAO,CAACwH,kBAAkB,CAAC,IAAI,CAAClG,EAAE,CAAC;EAC5C;EAEA,MAAMmG,qBAAqBA,CAAA,EAEzB;IACA,OAAOzH,sBAAO,CAACyH,qBAAqB,CAAC,IAAI,CAACnG,EAAE,CAAC;EAC/C;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACE,MAAMoG,cAAcA,CAAC;IACnBjG,IAAI;IACJkG,OAAO,EAAEC;EAIX,CAAC,EAAoB;IACnB,IAAInG,IAAI,CAACC,UAAU,CAAC,SAAS,CAAC,EAAED,IAAI,GAAGA,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;IACpD,OAAO3B,sBAAO,CAAC0H,cAAc,CAAC,IAAI,CAACpG,EAAE,EAAE;MACrCG,IAAI;MACJkG,OAAO,EAAEC,MAAM,IAAI;IACrB,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;AACA;EACE,MAAMC,mBAAmBA,CAAA,EAAqB;IAC5C,OAAO,MAAM7H,sBAAO,CAAC6H,mBAAmB,CAAC,IAAI,CAACvG,EAAE,CAAC;EACnD;;EAEA;AACF;AACA;AACA;EACE,MAAMwG,oBAAoBA,CAAA,EAGvB;IACD,OAAO,MAAM9H,sBAAO,CAAC8H,oBAAoB,CAAC,IAAI,CAACxG,EAAE,CAAC;EACpD;;EAEA;AACF;AACA;AACA;EACE,MAAMyG,iBAAiBA,CAAA,EAAkB;IACvC,OAAO,MAAM/H,sBAAO,CAAC+H,iBAAiB,CAAC,IAAI,CAACzG,EAAE,CAAC;EACjD;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAM0G,WAAWA,CAAC;IAAEvG;EAAuB,CAAC,EAAoB;IAC9D,IAAIA,IAAI,CAACC,UAAU,CAAC,SAAS,CAAC,EAAED,IAAI,GAAGA,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;IACpD,OAAO,MAAM3B,sBAAO,CAACgI,WAAW,CAAC,IAAI,CAAC1G,EAAE,EAAEG,IAAI,CAAC;EACjD;;EAEA;AACF;AACA;AACA;EACE,MAAMwG,gBAAgBA,CAAA,EAAqB;IACzC,OAAO,MAAMjI,sBAAO,CAACiI,gBAAgB,CAAC,IAAI,CAAC3G,EAAE,CAAC;EAChD;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAM4G,2BAA2BA,CAC/BC,OAAsB,EACtBC,WAAmB,EACF;IACjB,OAAO,MAAMpI,sBAAO,CAACkI,2BAA2B,CAC9C,IAAI,CAAC5G,EAAE,EACP6G,OAAO,GAAGnE,IAAI,CAACC,SAAS,CAACkE,OAAO,CAAC,GAAG,EAAE,EACtCC,WACF,CAAC;EACH;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAMC,6BAA6BA,CACjCD,WAAmB,EACK;IACxB,OAAO,MAAMpI,sBAAO,CAACqI,6BAA6B,CAAC,IAAI,CAAC/G,EAAE,EAAE8G,WAAW,CAAC;EAC1E;;EAEA;AACF;AACA;AACA;AACA;EACE,MAAME,iBAAiBA,CAAClC,MAAgB,EAA0B;IAChE,OAAO,MAAMpG,sBAAO,CAACsI,iBAAiB,CAAC,IAAI,CAAChH,EAAE,EAAE8E,MAAM,CAAC;EACzD;;EAEA;AACF;AACA;AACA;EACE,MAAMmC,cAAcA,CAAA,EAAkB;IACpC,OAAO,MAAMvI,sBAAO,CAACuI,cAAc,CAAC,IAAI,CAACjH,EAAE,CAAC;EAC9C;EAEA,MAAMkH,OAAOA,CAAA,EAAkB;IAC7B,OAAOxI,sBAAO,CAACyI,cAAc,CAAC,IAAI,CAACnH,EAAE,CAAC;EACxC;AACF;AAAC9B,OAAA,CAAAwB,YAAA,GAAAA,YAAA;AAEM,eAAeP,eAAeA,CAACiI,OAAgB,EAAiB;EACrE,OAAO1I,sBAAO,CAACS,eAAe,CAACiI,OAAO,CAAC;AACzC;AAEO,SAASC,oBAAoBA,CAClCrI,QAA+C,EACvB;EACxBJ,YAAY,CAACiD,IAAI,CAAC7C,QAAQ,CAAC;EAC3B,OAAO;IACLyF,MAAM,EAAEA,CAAA,KAAM;MACZ7F,YAAY,CAAC0I,MAAM,CAAC1I,YAAY,CAAC2I,OAAO,CAACvI,QAAQ,CAAC,EAAE,CAAC,CAAC;IACxD;EACF,CAAC;AACH;AAEO,eAAewI,eAAeA,CAACC,KAAa,EAAiB;EAClE,OAAO/I,sBAAO,CAAC8I,eAAe,CAACC,KAAK,CAAC;AACvC;AAEA,IAAIC,gBAAgB,GAAG,CAAC;AACxB,MAAMC,eAAe,GAAGA,CAAA,KACtBC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,GAAG,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC;AAE1E,MAAMC,aAAa,GAAG;AACpB;AACA,uBAAuB,EACvB,2BAA2B,EAC3B,uBAAuB,EACvB,uBAAuB,CACxB;AACM,eAAeC,kBAAkBA,CAACpI,KAAa,EAAmB;EACvE,IAAII,IAAI,GAAGJ,KAAK;EAChB,IAAII,IAAI,CAACC,UAAU,CAAC,SAAS,CAAC,EAAED,IAAI,GAAGA,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;EACpD,OAAO3B,sBAAO,CAAC0J,SAAS,CAACjI,IAAI,EAAE+H,aAAa,CAAC;AAC/C;AAEA,MAAMG,WAAW,GAAG;EAClB;EACAC,IAAI,EAAE,CAAC;EACPC,IAAI,EAAE,CAAC;EACPC,GAAG,EAAE,CAAC;EACNC,IAAI,EAAE,CAAC;EACPC,IAAI,EAAE;AACR,CAAC;AAEM,eAAeC,SAASA,CAC7B;EACE5I,KAAK;EACL6I,cAAc,EAAEC,YAAY;EAC5BC,YAAY,EAAEC,WAAW;EACzBC,IAAI;EACJC,SAAS,EAAEnD,QAAQ;EACnB,GAAGoD;AACU,CAAC,EAChBC,UAAuC,EAChB;EACvB,IAAIhJ,IAAI,GAAGJ,KAAK;EAChB,IAAII,IAAI,CAACC,UAAU,CAAC,SAAS,CAAC,EAAED,IAAI,GAAGA,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;EAEpD,IAAI+I,QAAQ,GAAGJ,IAAI;EACnB,IAAII,QAAQ,EAAEhJ,UAAU,CAAC,SAAS,CAAC,EAAEgJ,QAAQ,GAAGA,QAAQ,CAAC/I,KAAK,CAAC,CAAC,CAAC;EAEjE,IAAI0F,YAAsD,GAAG,EAAE;EAC/D,IAAID,QAAQ,EACVC,YAAY,GAAGD,QAAQ,CAACzE,GAAG,CAAE2E,CAAC,KAAM;IAClC7F,IAAI,EAAE6F,CAAC,CAAC7F,IAAI,CAAC+B,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;IACrC+D,MAAM,EAAED,CAAC,CAACC;EACZ,CAAC,CAAC,CAAC;EAEL,MAAMnG,SAAS,GAAG4H,gBAAgB,GAAGC,eAAe,CAAC,CAAC;EACtDD,gBAAgB,IAAI,CAAC;EAErB,IAAI2B,sBAA2B,GAAG,IAAI;EACtC,IAAIF,UAAU,EAAE;IACdE,sBAAsB,GAAG/K,YAAY,CAACO,WAAW,CAC/CV,8BAA8B,EAC7BW,GAA4C,IAAK;MAChD,IAAIA,GAAG,CAACgB,SAAS,KAAKA,SAAS,EAAE;MACjCqJ,UAAU,CAACrK,GAAG,CAACwK,QAAQ,CAAC;IAC1B,CACF,CAAC;EACH;EAEA,MAAMC,QAAQ,GAAGlB,WAAW,CAACU,WAAW,CAA6B;EACrE,MAAM;IACJpJ,GAAG;IACHC,WAAW;IACXG,KAAK,EAAEyJ,YAAY;IACnBC;EACF,CAAC,GAAG,MAAM/K,sBAAO,CAACgL,WAAW,CAAC5J,SAAS,EAAE;IACvCC,KAAK,EAAEI,IAAI;IACXyI,cAAc,EAAE,CAAC,CAACC,YAAY;IAC9Bc,qBAAqB,EAAE,CAAC,CAACR,UAAU;IACnCL,YAAY,EAAES,QAAQ;IACtBP,IAAI,EAAEI,QAAQ;IACdH,SAAS,EAAElD,YAAY;IACvB,GAAGmD;EACL,CAAC,CAAC,CAAC9J,KAAK,CAAEsF,GAAQ,IAAK;IACrB2E,sBAAsB,EAAE5E,MAAM,CAAC,CAAC;IAChC,MAAMC,GAAG;EACX,CAAC,CAAC;EACF2E,sBAAsB,EAAE5E,MAAM,CAAC,CAAC;EAChC,OAAO,IAAI/E,YAAY,CAAC;IACtBI,SAAS;IACTH,GAAG;IACHC,WAAW;IACXG,KAAK,EAAEyJ,YAAY;IACnBC;EACF,CAAC,CAAC;AACJ;AAEO,eAAeG,eAAeA,CAAA,EAAkB;EACrD,OAAOlL,sBAAO,CAACmL,kBAAkB,CAAC,CAAC;AACrC","ignoreList":[]}
